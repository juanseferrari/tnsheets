

<!-- NEW MODERN HEADER VERSION: Toggle this section to use the new design -->
<header class="sc-header" id="scHeader">
    <div class="sc-header__container">
      <a href="/" class="sc-header__logo">
        <img src="/images/designs/logo_primario.png" alt="SheetsCentral Logo" />
      </a>
      <nav class="sc-header__nav">
        <a href="/#productos" class="sc-header__link"><%= lang_object.text.header_products %></a>
        <% if (typeof firstPath !=='undefined' ) { %>
          <a href="/<%= firstPath %>/documentation?lang=<%= lang_object.lang %>" class="sc-header__link" target="_blank"><%= lang_object.text.header_docs %></a>
        <% } else { %>
          <a href="/documentation" class="sc-header__link" target="_blank"><%= lang_object.text.header_docs %></a>
        <% } %>
        <a href="/#contacto" class="sc-header__link"><%= lang_object.text.header_contact %></a>
      </nav>
      <div class="sc-header__actions">
        <div class="sc-header__lang dropdown sc-header__lang-desktop">
          <% if (typeof lang_object !== 'undefined' ) { %>
            <button id="mainButton" class="sc-header__lang-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <%= lang_object.lang.toUpperCase(); %> <span class="fi fi-<%= lang_object.icon%>"></span>
            </button>
          <% } else { %>
            <button id="mainButton" class="sc-header__lang-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              ES <span class="fi fi-es"></span>
            </button>
          <% } %>
          <ul class="dropdown-menu">
            <% if (typeof firstPath !=='undefined' ) { %>
              <li><a class="dropdown-item es" lang="es" onclick="switchLanguage('es')">ES <span class="fi fi-es"></span></a></li>
              <li><a class="dropdown-item en" lang="en" onclick="switchLanguage('en')">EN <span class="fi fi-gb"></span></a></li>
              <li><a class="dropdown-item pt" lang="pt" onclick="switchLanguage('pt')">PT <span class="fi fi-br"></span></a></li>
            <% } else { %>
              <li><a class="dropdown-item es" lang="es" onclick="switchLanguage('es')">ES <span class="fi fi-es"></span></a></li>
              <li><a class="dropdown-item en" lang="en" onclick="switchLanguage('en')">EN <span class="fi fi-gb"></span></a></li>
              <li><a class="dropdown-item pt" lang="pt" onclick="switchLanguage('pt')">PT <span class="fi fi-br"></span></a></li>
            <% } %>
          </ul>
        </div>
        <% if (navbar_data.active) { %>
          <a href="/account" class="sc-header__account-btn sc-header__account-btn-desktop">
            <span class="user-image-container" style="display:inline-block;vertical-align:middle;margin-right:8px;">
              <img src="<%= navbar_data.logo_url %>" alt="" class="user-image-navbar" style="height:32px;width:32px;border-radius:50%;object-fit:cover;vertical-align:middle;" />
            </span>
            Mi Cuenta
          </a>
        <% } else { %>
          <a href="/google-login" class="sc-header__login-btn sc-header__login-btn-desktop"><%= lang_object.text.header_login %></a>
        <% } %>
        <button class="sc-header__menu-btn" id="scMenuBtn" aria-label="Abrir menú" type="button">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
    <div class="sc-header__offcanvas" id="scOffcanvasMenu">
      <button class="sc-header__offcanvas-close" id="scOffcanvasClose" aria-label="Cerrar menú" type="button">
        <i class="fas fa-times"></i>
      </button>
      <nav class="sc-header__offcanvas-nav">
        <a href="/#productos" class="sc-header__link sc-header__offcanvas-link"><%= lang_object.text.header_products %></a>
        <% if (typeof firstPath !=='undefined' ) { %>
          <a href="/<%= firstPath %>/documentation?lang=<%= lang_object.lang %>" class="sc-header__link sc-header__offcanvas-link" target="_blank"><%= lang_object.text.header_docs %></a>
        <% } else { %>
          <a href="/documentation" class="sc-header__link sc-header__offcanvas-link" target="_blank"><%= lang_object.text.header_docs %></a>
        <% } %>
        <a href="/#contacto" class="sc-header__link sc-header__offcanvas-link"><%= lang_object.text.header_contact %></a>
        <div class="sc-header__lang dropdown" style="margin-top:16px;">
          <% if (typeof lang_object !== 'undefined' ) { %>
            <button id="mainButtonMobile" class="sc-header__lang-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <%= lang_object.lang.toUpperCase(); %> <span class="fi fi-<%= lang_object.icon%>"></span>
            </button>
          <% } else { %>
            <button id="mainButtonMobile" class="sc-header__lang-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              ES <span class="fi fi-es"></span>
            </button>
          <% } %>
          <ul class="dropdown-menu">
            <% if (typeof firstPath !=='undefined' ) { %>
              <li><a class="dropdown-item es" lang="es" onclick="switchLanguage('es')">ES <span class="fi fi-es"></span></a></li>
              <li><a class="dropdown-item en" lang="en" onclick="switchLanguage('en')">EN <span class="fi fi-gb"></span></a></li>
              <li><a class="dropdown-item pt" lang="pt" onclick="switchLanguage('pt')">PT <span class="fi fi-br"></span></a></li>
            <% } else { %>
              <li><a class="dropdown-item es" lang="es" onclick="switchLanguage('es')">ES <span class="fi fi-es"></span></a></li>
              <li><a class="dropdown-item en" lang="en" onclick="switchLanguage('en')">EN <span class="fi fi-gb"></span></a></li>
              <li><a class="dropdown-item pt" lang="pt" onclick="switchLanguage('pt')">PT <span class="fi fi-br"></span></a></li>
            <% } %>
          </ul>
        </div>
        <% if (navbar_data.active) { %>
          <a href="/account" class="sc-header__account-btn sc-header__offcanvas-link" style="margin-top:16px;">
            <span class="user-image-container" style="display:inline-block;vertical-align:middle;margin-right:8px;">
              <img src="<%= navbar_data.logo_url %>" alt="" class="user-image-navbar" style="height:32px;width:32px;border-radius:50%;object-fit:cover;vertical-align:middle;" />
            </span>
            <%= lang_object.text.account_title %>
          </a>
        <% } else { %>
          <a href="/google-login" class="sc-header__login-btn sc-header__offcanvas-link" style="margin-top:16px;"><%= lang_object.text.header_login %></a>
        <% } %>
      </nav>
    </div>
    <script>
      // Mobile menu open/close logic
      const scMenuBtn = document.getElementById('scMenuBtn');
      const scOffcanvas = document.getElementById('scOffcanvasMenu');
      const scOffcanvasClose = document.getElementById('scOffcanvasClose');
      if (scMenuBtn && scOffcanvas && scOffcanvasClose) {
        scMenuBtn.addEventListener('click', function(e) {
          e.stopPropagation();
          scOffcanvas.classList.add('open');
        });
        scOffcanvasClose.addEventListener('click', function(e) {
          e.stopPropagation();
          scOffcanvas.classList.remove('open');
        });
        // Optional: close menu when clicking outside
        document.addEventListener('click', function(e) {
          if (scOffcanvas.classList.contains('open') && !scOffcanvas.contains(e.target) && e.target !== scMenuBtn) {
            scOffcanvas.classList.remove('open');
          }
        });
      }
  
      // Hide header on scroll down, show on scroll up (with delay)
      (function() {
        var lastScroll = window.scrollY;
        var ticking = false;
        var header = document.getElementById('scHeader');
        var hideTimeout = null;
        var lastDirection = null;
        function onScroll() {
          var currentScroll = window.scrollY;
          if (currentScroll > lastScroll && currentScroll > 60) {
            // Scrolling down
            if (header && lastDirection !== 'down') {
              header.style.transform = 'translateY(-100%)';
              header.style.transition = 'transform 0.3s';
              lastDirection = 'down';
            }
          } else if (currentScroll < lastScroll) {
            // Scrolling up
            if (header && lastDirection !== 'up') {
              if (hideTimeout) clearTimeout(hideTimeout);
              hideTimeout = setTimeout(function() {
                header.style.transform = 'translateY(0)';
                header.style.transition = 'transform 0.3s';
                lastDirection = 'up';
              }, 50);
            }
          }
          lastScroll = currentScroll;
          ticking = false;
        }
        window.addEventListener('scroll', function() {
          if (!ticking) {
            window.requestAnimationFrame(onScroll);
            ticking = true;
          }
        });
      })();
    </script>
 
</header>
<!-- END NEW MODERN HEADER VERSION -->